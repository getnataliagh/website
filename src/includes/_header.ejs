<!-- Header with glassmorphism effect - Clerk-style navigation -->
<header id="main-header" class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-muted-border transition-all duration-300">
  <nav class="max-w-navbar mx-auto px-4 md:px-6">
    <div class="flex items-center justify-between h-16 md:h-20">
      <!-- Logo -->
      <a href="./" class="flex items-center group">
        <img
          src="./assets/images/logoNataliaSvg.svg"
          alt="<%= locals.site.name %>"
          class="h-8 md:h-10 w-auto transition-transform duration-300 group-hover:scale-105"
        >
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex items-center space-x-1">
        <% locals.navigation.main.forEach(function(item) { %>
          <% if (item.children) { %>
            <!-- Dropdown Menu Item -->
            <div class="nav-dropdown-container relative" data-dropdown-hover>
              <button
                class="nav-link-clerk flex items-center gap-1 px-3 py-2 rounded-lg text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100/50 transition-all duration-150"
                data-dropdown-trigger
                aria-expanded="false"
                aria-haspopup="true"
              >
                <span><%= item.label %></span>
                <svg class="nav-chevron w-4 h-4 text-gray-400 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>
              <!-- Dropdown Panel - Clerk Style -->
              <div class="nav-dropdown-panel absolute top-full left-0 mt-2 opacity-0 invisible translate-y-1 transition-all duration-150 ease-out" data-dropdown-panel>
                <div class="nav-dropdown-content rounded-xl bg-gray-50 p-1 min-w-[280px] shadow-dropdown border border-gray-200/50">
                  <% item.children.forEach(function(child) { %>
                    <a
                      href=".<%= child.url %>"
                      class="nav-dropdown-item flex items-start gap-3 px-3 py-2.5 rounded-lg hover:bg-white transition-colors duration-150 group/item"
                    >
                      <!-- Icon -->
                      <div class="nav-dropdown-icon flex-shrink-0 w-10 h-10 rounded-lg bg-white shadow-sm border border-gray-200/50 flex items-center justify-center text-primary group-hover/item:shadow-md transition-shadow duration-150">
                        <% if (child.icon === 'phone') { %>
                          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                        <% } else if (child.icon === 'chart') { %>
                          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
                        <% } else if (child.icon === 'message') { %>
                          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>
                        <% } else if (child.icon === 'car') { %>
                          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"></path></svg>
                        <% } else if (child.icon === 'headset') { %>
                          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path></svg>
                        <% } else if (child.icon === 'help') { %>
                          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                        <% } else if (child.icon === 'clock') { %>
                          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <% } else { %>
                          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        <% } %>
                      </div>
                      <!-- Text Content -->
                      <div class="flex-1 min-w-0">
                        <div class="text-sm font-medium text-gray-900"><%= child.label %></div>
                        <% if (child.description) { %>
                          <div class="text-xs text-gray-500 mt-0.5 line-clamp-2"><%= child.description %></div>
                        <% } %>
                      </div>
                    </a>
                  <% }); %>
                </div>
              </div>
            </div>
          <% } else { %>
            <!-- Simple Link -->
            <a href=".<%= item.url %>" class="nav-link-clerk px-3 py-2 rounded-lg text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100/50 transition-all duration-150">
              <%= item.label %>
            </a>
          <% } %>
        <% }); %>
      </div>

      <!-- CTA Button -->
      <div class="hidden lg:flex items-center">
        <a href=".<%= locals.cta.primary.url %>" class="btn btn-primary">
          <%= locals.cta.primary.label %>
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
          </svg>
        </a>
      </div>

      <!-- Mobile Menu Button -->
      <button
        type="button"
        class="lg:hidden p-2 rounded-md text-police hover:bg-background-2 transition-colors"
        data-menu-toggle
        aria-label="Menu"
        aria-expanded="false"
      >
        <svg class="w-6 h-6 menu-icon-open transition-all duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
        <svg class="w-6 h-6 menu-icon-close hidden transition-all duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <!-- Mobile Menu -->
    <div class="lg:hidden mobile-menu menu-hidden" data-menu>
      <div class="py-4 border-t border-muted-border">
        <% locals.navigation.main.forEach(function(item) { %>
          <% if (item.children) { %>
            <div class="py-2 mobile-menu-item">
              <button
                class="flex items-center justify-between w-full px-4 py-2 text-police-grey font-medium"
                data-dropdown-toggle
              >
                <span><%= item.label %></span>
                <svg class="w-4 h-4 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
              </button>
              <div class="hidden pl-4" data-dropdown>
                <% item.children.forEach(function(child) { %>
                  <a
                    href=".<%= child.url %>"
                    class="flex items-center gap-3 px-4 py-2.5 text-sm text-police-grey hover:text-primary transition-colors"
                  >
                    <!-- Mobile Icon -->
                    <div class="w-8 h-8 rounded-md bg-gray-100 flex items-center justify-center text-primary flex-shrink-0">
                      <% if (child.icon === 'phone') { %>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                      <% } else if (child.icon === 'chart') { %>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
                      <% } else if (child.icon === 'message') { %>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>
                      <% } else if (child.icon === 'car') { %>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                      <% } else if (child.icon === 'headset') { %>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path></svg>
                      <% } else if (child.icon === 'help') { %>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                      <% } else if (child.icon === 'clock') { %>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                      <% } else { %>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                      <% } %>
                    </div>
                    <div>
                      <div class="font-medium"><%= child.label %></div>
                      <% if (child.description) { %>
                        <div class="text-xs text-gray-500 mt-0.5"><%= child.description %></div>
                      <% } %>
                    </div>
                  </a>
                <% }); %>
              </div>
            </div>
          <% } else { %>
            <a
              href=".<%= item.url %>"
              class="mobile-menu-item block px-4 py-2 text-police-grey font-medium hover:text-primary transition-colors"
            >
              <%= item.label %>
            </a>
          <% } %>
        <% }); %>

        <!-- Mobile CTA -->
        <div class="mt-4 px-4 mobile-menu-item">
          <a href=".<%= locals.cta.primary.url %>" class="btn btn-primary w-full text-center">
            <%= locals.cta.primary.label %>
          </a>
        </div>
      </div>
    </div>
  </nav>
</header>
